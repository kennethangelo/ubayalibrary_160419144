<?php

$data = array(
    array(
        "idBooklist" => 1,
        "book" => [
            "id" => 1, "title" => "Laut Bercerita",
            "imgUrl" => "https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1516602134l/36393774._SX318_.jpg",
            "author" => ["id" => 1, "fullname" => "Leila S. Chudori"], "category" => ["id" => 1, "name" => "Historical Fiction"], "publisher" => ["id" => 1, "name" => "Gramedia Pustaka Utama"]
        ]
    ),

    array(
        "idBooklist" => 1,
        "book" => [
            "id" => "3", "title" => "Atomic Habits: An Easy & Proven Way to Build Good Habits & Break Bad Ones",
            "imgUrl" => "https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1535115320l/40121378._SY475_.jpg",
            "author" => ["id" => 3, "fullname" => "James Clear"], "category" => ["id" => 2, "name" => "Self-Help"], "publisher" => ["id" => 3, "name" => "Penguin Books"]
        ]
    ),

    array(
        "idBooklist" => 1,
        "book" => [
            "id" => 5, "title" => "Filosofi Teras",
            "imgUrl" => "https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1548033656l/42861019._SX318_.jpg",
            "author" => ["id" => 5, "fullname" => "Henry Manampiring"], "category" => ["id" => 2, "name" => "Self-Help"], "publisher" => ["id" => 4, "name" => "PT Elex Media Komputindo"]
        ]
    ),



    array(
        "idBooklist" => 2,
        "book" => [
            "id" => 2, "title" => "Algorithms to Live By: The Computer Science of Human Decisions",
            "imgUrl" => "https://images-na.ssl-images-amazon.com/images/I/415UY+ToE-L._SX329_BO1,204,203,200_.jpg",
            "author" => ["id" => 2, "fullname" => "Brian Christian"], "category" => ["id" => 3, "name" => "Popular Science"], "publisher" => ["id" => 2, "name" => "Harper Collins Books"]
        ]
    ),

    array(
        "idBooklist" => 2,
        "book" => [
            "id" => 4, "title" => "The Psychology of Money",
            "imgUrl" => "https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1581527774l/41881472._SY475_.jpg",
            "author" => ["id" => 4, "fullname" => "Morgan Housel"], "category" => ["id" => 3, "name" => "Popular Science"], "publisher" => ["id" => 3, "name" => "Penguin Books"]
        ]
    ),


    array(
        "idBooklist" => 3,
        "book" => [
            "id" => 2, "title" => "Algorithms to Live By: The Computer Science of Human Decisions",
            "imgUrl" => "https://images-na.ssl-images-amazon.com/images/I/415UY+ToE-L._SX329_BO1,204,203,200_.jpg",
            "author" => ["id" => 2, "fullname" => "Brian Christian"], "category" => ["id" => 3, "name" => "Popular Science"], "publisher" => ["id" => 2, "name" => "Harper Collins Books"]
        ]
    ),

    array("idBooklist" => 3, "book" => [
        "id" => "3", "title" => "Atomic Habits: An Easy & Proven Way to Build Good Habits & Break Bad Ones",
        "imgUrl" => "https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1535115320l/40121378._SY475_.jpg",
        "author" => ["id" => 3, "fullname" => "James Clear"], "category" => ["id" => 2, "name" => "Self-Help"], "publisher" => ["id" => 3, "name" => "Penguin Books"]
    ]),

    array("idBooklist" => 3, "book" => [
        "id" => 4, "title" => "The Psychology of Money",
        "imgUrl" => "https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1581527774l/41881472._SY475_.jpg",
        "author" => ["id" => 4, "fullname" => "Morgan Housel"], "category" => ["id" => 3, "name" => "Popular Science"], "publisher" => ["id" => 3, "name" => "Penguin Books"]
    ]),

    array(
        "idBooklist" => 3,
        "book" => [
            "id" => 5, "title" => "Filosofi Teras",
            "imgUrl" => "https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1548033656l/42861019._SX318_.jpg",
            "author" => ["id" => 5, "fullname" => "Henry Manampiring"], "category" => ["id" => 2, "name" => "Self-Help"], "publisher" => ["id" => 4, "name" => "PT Elex Media Komputindo"]
        ]
    ),


    array(
        "idBooklist" => 4,
        "book" => [
            "id" => 1, "title" => "Laut Bercerita",
            "imgUrl" => "https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1516602134l/36393774._SX318_.jpg",
            "author" => ["id" => 1, "fullname" => "Leila S. Chudori"], "category" => ["id" => 1, "name" => "Historical Fiction"], "publisher" => ["id" => 1, "name" => "Gramedia Pustaka Utama"]
        ]
    ),

    array(
        "idBooklist" => 4,
        "book" => [
            "id" => 2, "title" => "Algorithms to Live By: The Computer Science of Human Decisions",
            "imgUrl" => "https://images-na.ssl-images-amazon.com/images/I/415UY+ToE-L._SX329_BO1,204,203,200_.jpg",
            "author" => ["id" => 2, "fullname" => "Brian Christian"], "category" => ["id" => 3, "name" => "Popular Science"], "publisher" => ["id" => 2, "name" => "Harper Collins Books"]
        ]
    ),

    array("idBooklist" => 4, "book" => [
        "id" => "3", "title" => "Atomic Habits: An Easy & Proven Way to Build Good Habits & Break Bad Ones",
        "imgUrl" => "https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1535115320l/40121378._SY475_.jpg",
        "author" => ["id" => 3, "fullname" => "James Clear"], "category" => ["id" => 2, "name" => "Self-Help"], "publisher" => ["id" => 3, "name" => "Penguin Books"]
    ]),

    array("idBooklist" => 4, "book" => [
        "id" => 4, "title" => "The Psychology of Money",
        "imgUrl" => "https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1581527774l/41881472._SY475_.jpg",
        "author" => ["id" => 4, "fullname" => "Morgan Housel"], "category" => ["id" => 3, "name" => "Popular Science"], "publisher" => ["id" => 3, "name" => "Penguin Books"]
    ]),

    array(
        "idBooklist" => 4,
        "book" => [
            "id" => 5, "title" => "Filosofi Teras",
            "imgUrl" => "https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1548033656l/42861019._SX318_.jpg",
            "author" => ["id" => 5, "fullname" => "Henry Manampiring"], "category" => ["id" => 2, "name" => "Self-Help"], "publisher" => ["id" => 4, "name" => "PT Elex Media Komputindo"]
        ]
    ),

);

function searchBooklist($booklistID, $data)
{
    $res = [];
    foreach ($data as $key => $val) {
        if ($val['idBooklist'] == $booklistID) {
            $res[] = $data[$key]['book'];
        }
    }
    return $res;
}

if (isset($_GET['booklistID'])) {
    $data = searchBooklist($_GET['booklistID'], $data);
}

echo json_encode($data);
